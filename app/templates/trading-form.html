<div class="trading-form" ng-controller="TradingFormCtrl">
    <form role="form" class="form-horizontal" ng-submit="confirmOffer()" ng-show="state == 'form'">
        <div class="form-group">
            <div class="col-xs-4">
                <label class="radio-inline">
                    <input type="radio" ng-model="formData.tradeOperation" value="buy"> Buy
                </label>
                <label class="radio-inline">
                    <input type="radio"ng-model="formData.tradeOperation" value="sell"> Sell
                </label>
            </div>
            <div class="col-xs-6"><input type="text" class="form-control" ng-model="formData.baseAmount"></input></div>
            <div class="col-xs-2">
                <select class="form-control" ng-model="formData.baseCurrency.currency" ng-options="currencyName for currencyName in currencyNames">
                </select>
            </div>
        </div>
        <div class="form-group" ng-show="hasIssuer(formData.baseCurrency.currency)">
            <div class="col-xs-4">ISSUED BY</div>
            <div class="col-xs-8">
                <select class="form-control" ng-model="formData.baseCurrency.issuer" ng-options="issuer as (issuer | addressToUsername) for issuer in getIssuers(formData.baseCurrency)"></select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-4">WITH EACH PRICED AT</div>
            <div class="col-xs-6"><input type="text" class="form-control" ng-model="formData.unitPrice"></input></div>
            <div class="col-xs-2">
                <select class="form-control" ng-model="formData.counterCurrency.currency" ng-options="currencyName for currencyName in currencyNames">
                </select>
            </div>
        </div>
        <div class="form-group" ng-show="hasIssuer(formData.counterCurrency.currency)">
            <div class="col-xs-4">ISSUED BY</div>
            <div class="col-xs-8">
                <select class="form-control" ng-model="formData.counterCurrency.issuer" ng-options="issuer as (issuer | addressToUsername) for issuer in getIssuers(formData.counterCurrency)"></select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-4">TOTAL PAYABLE</div>
            <div class="col-xs-6"><input type="text" class="form-control" ng-model="formData.counterAmount" disabled></input></div>
            <div class="col-xs-2"><input type="text" class="form-control" ng-model="formData.counterCurrency.currency" disabled></input></div>
        </div>
        <div class="form-group" ng-show="formIsValid()">
            <div class="col-xs-offset-4 col-xs-8">
                <b>
                    <span class="capitalize">{{ formData.tradeOperation }}</span>
                    {{ formData.baseAmount }} {{ formData.baseCurrency.currency }}
                    for {{ formData.counterAmount }} {{ formData.counterCurrency.currency }}
                    at {{ formData.unitPrice }} {{ formData.counterCurrency.currency }}/{{ formData.baseCurrency.currency }}
                </b>
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-offset-4 col-xs-3">
                <button type="submit" class="btn btn-default" ng-disabled="!formIsValid()">Submit Order</button>
            </div>
        </div>
    </form>
    <div class="trading-form-overlay confirm-trade" ng-show="state == 'confirm'">
        You are offering to <b>{{ formData.tradeOperation }}</b><br>
        <b>{{ formData.baseAmount }} {{ formData.baseCurrency.currency }}</b><br>
        for<br>
        <b>{{ formData.counterAmount }} {{ formData.counterCurrency.currency }}</b><br>
        at<br>
        <b>{{ formData.unitPrice }} {{ formData.counterCurrency.currency }}/{{ formData.baseCurrency.currency }}</b><br>
        <div class="overlay-buttons">
            <button ng-click="editForm()" class="btn btn-default">Edit</button>
            <button ng-click="createOffer()" class="btn btn-default">Confirm</button>
        </div>
    </div>
    <div class="trading-form-overlay sending-trade" ng-show="state == 'sending'">
        Sending offer<br>
        <img class="sending-rocket" src="./images/sending.gif"/><br>
        <div class="overlay-buttons">
            <button ng-click="resetForm()" class="btn btn-default">Continue</button>
        </div>
    </div>
    <div class="trading-form-overlay trade-sent" ng-show="state == 'sent'">
        <i class="icon icon-check-circle-thin modalStatus-icon"></i><br>
        Offer created successfully!<br>
        <div class="overlay-buttons">
            <button ng-click="resetForm()" class="btn btn-default">Continue</button>
        </div>
    </div>
    <div class="trading-form-overlay trade-error" ng-show="state == 'error'">
        Error creating offer!<br>
        <span class="info">{{ offerError }}</span><br>
        <div class="overlay-buttons">
            <button ng-click="editForm()" class="btn btn-default">Back</button>
        </div>
    </div>
</div>