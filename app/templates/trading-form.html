<div class="trading-form" ng-controller="TradingFormCtrl">
    <form role="form" class="form-horizontal" ng-submit="confirmOffer()" ng-show="state == 'form'">
        <div class="form-group">
            <div class="radio-buttons col-md-4">
                <input type="radio" ng-model="formData.tradeOperation" id="trade-radio-buy" value="buy">
                <label for="trade-radio-buy">Buy</label><!-- No whitespace
                --><input type="radio" ng-model="formData.tradeOperation" id="trade-radio-sell" value="sell"><!-- No whitespace
                --><label for="trade-radio-sell">Sell</label>
            </div>
            <div class="col-md-8">
                <div class="input-group">
                    <input type="text" class="form-control" ng-model="formData.baseAmount"></input>
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">{{formData.baseCurrency.currency}} <span class="caret"></span></button>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li ng-repeat="currencyName in currencyNames"><a href="javascript:void(0)" ng-click="changeBaseCurrency(currencyName)">{{currencyName}}</a></li>
                        </ul>
                    </div>
                </div>
            </div>
<!--             <div class="col-md-2">
                <select class="form-control" ng-model="formData.baseCurrency.currency" ng-options="currencyName for currencyName in currencyNames">
                </select>
            </div> -->
        </div>
        <div class="form-group" ng-show="hasIssuer(formData.baseCurrency.currency)">
            <div class="col-md-4"><label>ISSUED BY</label></div>
            <div class="col-md-8">
                <select class="form-control" ng-model="formData.baseCurrency.issuer" ng-options="issuer as (issuer | addressToUsername) for issuer in getIssuers(formData.baseCurrency)"></select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-4"><label>WITH EACH PRICED AT</label></div>
            <div class="col-md-8">
                <div class="input-group">
                    <input type="text" class="form-control" ng-model="formData.unitPrice"></input>
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">{{formData.counterCurrency.currency}} <span class="caret"></span></button>
                        <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            <li ng-repeat="currencyName in currencyNames"><a href="javascript:void(0)" ng-click="changeCounterCurrency(currencyName)">{{currencyName}}</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group" ng-show="hasIssuer(formData.counterCurrency.currency)">
            <div class="col-md-4"><label>ISSUED BY</label></div>
            <div class="col-md-8">
                <select class="form-control" ng-model="formData.counterCurrency.issuer" ng-options="issuer as (issuer | addressToUsername) for issuer in getIssuers(formData.counterCurrency)"></select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-4"><label>TOTAL PAYABLE</label></div>
            <div class="col-md-6"><input type="text" class="form-control" ng-model="formData.counterAmount" disabled></input></div>
            <div class="col-md-2"><input type="text" class="form-control" ng-model="formData.counterCurrency.currency" disabled></input></div>
        </div>
        <div class="form-group" ng-show="formIsValid()">
            <div class="col-md-offset-4 col-md-8">
                <b>
                    <span class="capitalize">{{ formData.tradeOperation }}</span>
                    {{ formData.baseAmount }} {{ formData.baseCurrency.currency }}
                    for {{ formData.counterAmount }} {{ formData.counterCurrency.currency }}
                    at {{ formData.unitPrice }} {{ formData.counterCurrency.currency }}/{{ formData.baseCurrency.currency }}
                </b>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-4 col-md-3">
                <button type="submit" class="btn btn-default" ng-disabled="!formIsValid()">Submit Order</button>
            </div>
        </div>
    </form>
    <div class="offer-status confirm-trade" ng-show="state == 'confirm'">
        You are offering to <b>{{ formData.tradeOperation }}</b><br>
        <b>{{ formData.baseAmount }} {{ formData.baseCurrency.currency }}</b><br>
        for<br>
        <b>{{ formData.counterAmount }} {{ formData.counterCurrency.currency }}</b><br>
        at<br>
        <b>{{ formData.unitPrice }} {{ formData.counterCurrency.currency }}/{{ formData.baseCurrency.currency }}</b><br>
        <div class="button-group">
            <button ng-click="editForm()" class="btn btn-default">Edit</button>
            <button ng-click="createOffer()" class="btn btn-default">Confirm</button>
        </div>
    </div>
    <div class="offer-status sending-trade" ng-show="state == 'sending'">
        <p class="modalStatus-title">Sending offer</p>
        <img class="sending-rocket" src="./images/sending.gif"/><br>
        <div class="button-group">
            <button ng-click="resetForm()" class="btn btn-default">Continue</button>
        </div>
    </div>
    <div class="offer-status trade-sent" ng-show="state == 'sent'">
        <i class="icon icon-check-circle-thin modalStatus-icon"></i><br>
        <p class="modalStatus-title">Offer created successfully!</p>
        <div class="button-group">
            <button ng-click="resetForm()" class="btn btn-default">Continue</button>
        </div>
    </div>
    <div class="offer-status trade-error error-modalStatus" ng-show="state == 'error'">
        <p class="modalStatus-title">Error creating offer!</p>
        <span class="modalStatus-info">{{ offerError }}</span><br>
        <div class="button-group">
            <button ng-click="editForm()" class="btn btn-default">Back</button>
        </div>
    </div>
</div>